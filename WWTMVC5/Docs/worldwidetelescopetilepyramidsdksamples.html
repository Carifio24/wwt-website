<html>
<head>
<title>WorldWide Telescope SDK Samples</title>
<link rel=stylesheet href="SDK_style.css" type="text/css" media=screen>
</head>

<body>
<a name="Tile Pyramid SDK Samples"><h1>WorldWide Telescope SDK Samples</h1></a>
<p><font color="red">Note: This documentation is preliminary and subject to change.</font></p>
<p>There are several sample applications provided with the SDK
that demonstrate how to use the APIs. Each of these samples deals with a
different type of dataset and produces a single collection that can be viewed in
Worldwide Telescope. </p>
<ol>
	<li><strong>
	<a href="#Running_the_BlueMarbleApp.exe_sample_with_a_single_image">BlueMarbleApp</a></strong>: This sample demonstrates how a single image in
	Equirectangular projection or 
	<a href="#Running_the_BlueMarbleApp.exe_sample_with_multiple_images">set of images in 
	Equirectangular projection</a> can be
transformed to Toast or Mercator projection image pyramids that can be
visualized in WorldWide Telescope.</li>
	<li><strong><a href="#Running_the_SpecificRegionDataSet.exe_sample">SpecificRegionDataSet</a></strong>: 
	This sample demonstrates how an Equirectangular dataset in XYZ format, for a specific region of the world 
	can be transformed to Toast or Mercator projection image pyramids that can 
	be visualized in WorldWide Telescope. This sample also supports the Digital 
	Elevation Model (DEM). A digital elevation model is a digital representation of ground surface
topography or terrain. DEMs are used often in geographic information systems and
are the most common basis for digitally-produced relief maps. This sample needs
the <a href="#To_Setup_the_Sharing_Service">Sharing Service</a> application to be set up. 
	The data needs to be comma separated containing longitude, latitude and 
	depth values.</li>
	<li><strong><a href="#Running_the_WorldDataSet.exe_sample">WorldDataSet</a></strong>: This sample demonstrates how a data set in 
	XYZ format, for
the entire world can be transformed to Toast or Mercator projection image
pyramids that can be visualized in WorldWide Telescope. The data needs to be 
	comma separated containing&nbsp; longitude, latitude and depth values.</li>
	<li><b><a href="#To_Setup_the_Sharing_Service">Sharing
Service</a></b>: This sample demonstrates how a web application can be set up to 
	serve both images and DEM tiles to WWT, and Community data. It provides a 
	means for users to share their collections with others, by accessing 
	pyramids via URL rather than a local folder path. A Bing Maps integration 
	sample source code in the Sharing Service folder explains how to have the 
	tile pyramid created by this SDK displayed in Bing Maps (this works for 
	Mercator projection only).</li>
</ol>
<p>This document provides instructions on how to run these
samples to generate the image tile pyramid along with the WTML collection file
that can be visualized in WWT.</p>
<h4>See Also</h4>
<ul type="disc">
<li><a href="http://www.worldwidetelescope.org/Docs/WorldWideTelescopeDataToolsGuide.html">WorldWide Telescope Data Tools Guide</a></li>
<li><a href="http://www.worldwidetelescope.org/Docs/WorldWideTelescopeProjectionReference.html">WorldWide Telescope Projection Reference</a></li>
	<li><a href="worldwidetelescopetilepyramidsdk.html">WorldWide Telescope Tile 
	Pyramid SDK</a></li>
</ul>
<hr>

<h2><a name="Prerequisites">Prerequisites</a></h2>
<p>To run the samples ensure your system meets the hardware requirements and the 
necessary software is installed, described in the
<a href="worldwidetelescopesdkgettingstarted.html">Getting Started</a> section.</p>
<h4>See Also</h4>
<ul type="disc">
<li><a href="#Tile Pyramid SDK Samples">WorldWide Telescope SDK Samples</a></li>
</ul>
<hr>

<h3><a name="To_Install_IIS_7.5_on_Windows_7">To Install IIS 7.5 on Windows 7</a></h3>
<p>You can perform this procedure using the user interface (UI) or a script.</p>
<h4>Using the UI</h4>
<ol>
	<li>Click <strong>Start</strong> and then click <strong>Control Panel</strong>.</li>
	<li>&nbsp;In Control Panel, click <strong>Programs</strong> and then click
	<strong>Turn Windows features on or off.</strong></li>
	<li>&nbsp;In the Windows Features dialog box, click <strong>Internet 
	Information Services </strong>and then click <strong>OK</strong>. </li>
</ol>
<h4>Installing IIS on Windows Server 2008 and R2 @
<a href="http://technet.microsoft.com/en-us/library/cc771209(WS.10).aspx">
http://technet.microsoft.com/en-us/library/cc771209(WS.10).aspx</a> </h4>
<p>When you install IIS, it is preconfigured to serve as a default Web site; 
however, you may want to change some of the settings. To change the basic 
settings for the Web site and to emulate the steps that are required to set up 
Apache for the first time by using the configuration file:</p>
<ol>
	<li>Log on to the Web server computer as an administrator. </li>
	<li>Click <strong>Start</strong>, point to <strong>Settings</strong>, 
	and then click <strong>Control</strong> <strong>Panel</strong>. </li>
	<li>Double-click <strong>Administrative Tools</strong>, and then 
	double-click <strong>Internet Services Manager</strong>. </li>
	<li>Right-click the Web site that you want to configure in the left 
	pane, and then click <strong>Properties</strong>. </li>
	<li>Click the <strong>Web site</strong> tab. </li>
	<li>Type a description for the Web site in the <strong>Description</strong> 
	box. </li>
	<li>Type the Internet Protocol (IP) address to use for the Web site or 
	leave the <strong>All (Unassigned)</strong> default setting. </li>
	<li>Modify the Transmission Control Protocol (TCP) port as 
	appropriate. </li>
	<li>Click the <strong>Home Directory</strong> tab. </li>
	<li>To use a folder on the local computer, click <strong>A directory 
	on this computer</strong>, and then click <strong>Browse</strong> to locate 
	the folder that you want to use. </li>
	<li>To use a folder that has been shared from another computer on the 
	network, click <strong>A share located on another computer,</strong> and 
	then either type the network path or click <strong>Browse</strong> to select 
	the shared folder. </li>
	<li>Click <strong>Read</strong> to grant read access to the folder 
	(required). </li>
	<li>Click <strong>OK</strong> to accept the Web site properties.</li>
	<li>Set .Net 4.0 as the default application pool. To do this type ìinetmgrî 
	in the start menu, access the Application Pools, and change the .NET 
	Framework version to v4.0 (unless of course it is already set correctly). </li>
</ol>
<table class="T1" cellpadding="8" cellspacing="0.5" rules="rows" bordercolorlight="white">
<tr><td><img alt="" height="543" src="//wwtweb.blob.core.windows.net/docs/uiimages/SDK_8.png" width="441"></td></tr>
<tr><td><img alt="" height="545" src="//wwtweb.blob.core.windows.net/docs/uiimages/SDK_9.png" width="880"></td></tr>
</table>

<h4>See Also</h4>
<ul type="disc">
<li><a href="#Tile Pyramid SDK Samples">WorldWide Telescope SDK Samples</a></li>
</ul>
<hr>

<h3><a name="To_Setup_the_Sharing_Service">To Setup the Sharing Service</a></h3>
<ol>
	<li>Open the command prompt using the <strong>Run as Administrator</strong>ù
mode.</li>
	<li>Make the <strong>(</strong><strong>SDKInstallDir</strong><strong>)\Sharing Service</strong> folder the
current directory (run <strong>cd (SDKInstallDir)\Sharing Serviceù</strong> from the 
	command prompt).</li>
	<li>Run <strong>DeploySharingService.bat.</strong></li>
	<li>Ensure all the pre-requisites have been installed
	or configured.</li>
	<li>Enter <strong>y </strong>when prompted.</li>
	<li>Upon successful installation, visit
	<a href="http://localhost/SharingService/TileServiceSample.aspx">http://localhost/SharingService/TileServiceSample.aspx</a> to view the 
	Tile Service Sample, and
	<a href="http://localhost/SharingService/CommunityServiceSample.aspx">http://localhost/SharingService/CommunityServiceSample.aspx</a> 
	to view the Community Service Sample.</li>
</ol>

<p>The Tile Service will serve up image and DEM tiles created using the Tile 
Pyramid SDK. By selecting one of the thumbnail images a tile pyramid can be 
viewed in Worldwide Telescope.</p>
<p>The Community Service displays a range of sign up files to different 
communities in the form of thumbnails and descriptions. If a thumbnail is 
selected the community will be joined and the payload file sent to the user. The 
account under which the Application Pool is running should have write 
permissions to the Community Directory to support the caching of payload Xml. 
The Community Service treats the following folder names as reserved: All Tours, Latest, 
Plates, DemPlates and Pyramid.</p>
<p>For more information on Community files, refer to the
<a href="http://www.worldwidetelescope.org/Docs/WorldWideTelescopeDataFilesReference.html">
WorldWide Telescope Data Files Reference.</a></p>
<h4>See Also</h4>
<ul type="disc">
<li><a href="#Tile Pyramid SDK Samples">WorldWide Telescope SDK Samples</a></li>
</ul>
<hr>

<h3><a name="Including_DEM_data">Including DEM data</a></h3>

<p>When using these samples with the sample data specified, or with any other 
sample data, if DEM (digital elevation model) data is not available then it can 
be obtained from Virtual Earth provided that the tiles created are in the same 
Mercator projection as Virtual Earth.</p>
<p>To do this edit the following entries in the WTML file to get DEM for the 
images:</p>
<p><strong>ElevationModel=&quot;True&quot; DemUrl=&quot;http://ecn.t{S}.tiles.virtualearth.net/tiles/d{Q}.elv?g=1&amp;amp;n=z&quot;
</strong></p>
<h4>See Also</h4>
<ul type="disc">
<li><a href="#Tile Pyramid SDK Samples">WorldWide Telescope SDK Samples</a></li>
</ul>
<hr>

<h2><a name="Running_the_Samples">Running the Samples</a></h2>
<ul>
	<li><a href="#Running_the_BlueMarbleApp.exe_sample_with_a_single_image">Running_the_BlueMarbleApp.exe_sample_with_a_single_image</a></li>
	<li><a href="#Running_the_BlueMarbleApp.exe_sample_with_multiple_images">Running_the_BlueMarbleApp.exe_sample_with_multiple_images</a></li>
	<li><a href="#Running_the_SpecificRegionDataSet.exe_sample">Running_the_SpecificRegionDataSet.exe_sample</a></li>
	<li><a href="#Running_the_WorldDataSet.exe_sample">Running_the_WorldDataSet.exe_sample</a></li>
</ul>


<h4>See Also</h4>
<ul type="disc">
<li><a href="#Tile Pyramid SDK Samples">WorldWide Telescope SDK Samples</a></li>
</ul>
<hr>

<h3><a name="Running_the_BlueMarbleApp.exe_sample_with_a_single_image">Running the BlueMarbleApp.exe
sample with a single image</a></h3>
<ol>
	<li>Download a single input Equirectangular image
from<br />
	<a href="http://eoimages.gsfc.nasa.gov/ve//7100/world.topo.bathy.200401.3x5400x2700.jpg">http://eoimages.gsfc.nasa.gov/ve//7100/world.topo.bathy.200401.3x5400x2700.jpg</a><br />and save it to a folder. For example, save it to 
	<strong>C:\SDKInputData\world.topo.bathy.200401.3x5400x2700.jpg</strong><br /> - note that some browsers will change periods to underscores.</li>
	<li>Open the command prompt and navigate to the
<strong>(SDKInstallDir)\Tile Pyramid SDK\Samples</strong> folder.</li>
	<li>Execute the command below:</li>
</ol>
<p><b><i>BlueMarbleApp.exe /Input</i></b><i>=C:\SDKInputData\world.topo.bathy.200401.3x5400x2700.jpg<b> 
/Projection</b>=Toast <strong>/InputBoundary</strong>=&lt;Top Left Latitude, Top 
Left Longitude, Bottom Right Latitude, Bottom Right Longitude&gt;</i></p>
<p>Where:</p>
<p><b>Input:</b> Is the path to an
Equirectangular image in PNG or JPEG format. You can find a collection of
Equirectangular images at:</p>
<p><a href="http://visibleearth.nasa.gov/view_set.php?categoryID=2363">http://visibleearth.nasa.gov/view_set.php?categoryID=2363</a></p>
<p><b>Projection: </b>
Projection can be either Toast or Mercator. For more information please refer to:
<a href="http://www.worldwidetelescope.org/Docs/WorldWideTelescopeProjectionReference.html">http://www.worldwidetelescope.org/Docs/WorldWideTelescopeProjectionReference.html</a></p>
<p><b>InputBoundary: </b>An optional parameter, defining the input boundary in 
decimal degrees.</p>
<p><b>OutputDir:</b>
Optional parameter, specifying the folder for output image pyramids and newly created wtml files.
If no input is supplied, image tiles are stored in the
<strong>%ProgramData%\Microsoft Research\WWT SDK\Output</strong>ù folder.</p>

<h4>See Also</h4>
<ul type="disc">
<li><a href="#Tile Pyramid SDK Samples">WorldWide Telescope SDK Samples</a></li>
</ul>
<hr>

<h3><a name="Running_the_BlueMarbleApp.exe_sample_with_multiple_images">Running the BlueMarbleApp.exe sample with multiple images</a></h3>
<ol>
	<li>Download the Multipart Equirectangular images
(A1, A1, A2, B1, B2, C1, C2, D1 and D2) from:<br>
	<a href="http://visibleearth.nasa.gov/view_detail.php?id=7100">http://visibleearth.nasa.gov/view_detail.php?id=7100</a><br>and save it to a
folder. (note: these images are huge and would require a lot of processing power
to run them. If you do not have a high end server machine at your disposal, try
splitting the image downloaded in the previous step into to smaller parts and
run this sample using them). Save it to <strong>C:\SDKInputData\</strong>ù.</li>
	<li>Now build
an xml file providing the location of each part and their corresponding bounding
co-ordinates (see 
	<a href="#Sample_XML_File_for_the_Multi-Part_Equirectangular_Image">sample here</a>). 
	Call the sample xml file <i>MultiPart.xml</i>.
</li>
	<li>Open the command prompt and navigate to the
<strong>(SDKInstallDir)\Tile Pyramid SDK\Samples</strong> folder, and execute 
	the following command:</li>
</ol>
<p><b><i>BlueMarbleApp.exe /Input</i></b><i>=C:\SDKInputData\MultiPart.xml <b>
/Projection</b>=Mercator
<strong>/InputBoundary</strong>=&lt;Top Left Latitude, Top 
Left Longitude, Bottom Right Latitude, Bottom Right Longitude&gt;</i></p><p>Where:</p>
<p><b>Input:</b> Points to the xml
file that contains the image locations and their bounding co-ordinates.
</p><p><b>Projection: </b>
Projection can be either Toast or Mercator. For more information please refer to:
<a href="http://www.worldwidetelescope.org/Docs/WorldWideTelescopeProjectionReference.html">http://www.worldwidetelescope.org/Docs/WorldWideTelescopeProjectionReference.html</a></p>
<p><b>InputBoundary: </b>Optional parameter, defining the input boundary in 
decimal degrees.</p>
<p><b>OutputDir:</b>
Optional parameter, specifying the folder for output image pyramids and newly created wtml files.
If no input is supplied, image tiles are stored in the
<strong>%ProgramData%\Microsoft Research\WWT SDK\Output</strong>ù folder.</p>

<h4>See Also</h4>
<ul type="disc">
<li><a href="#Tile Pyramid SDK Samples">WorldWide Telescope SDK Samples</a></li>
</ul>
<hr>

<h3><a name="Running_the_SpecificRegionDataSet.exe_sample">Running the SpecificRegionDataSet.exe sample 
</a> </h3>
<ol>
	<li>Download the Alaska Glacier bay data set from:<br>
	<a href="http://geopubs.wr.usgs.gov/open-file/of02-391/data/bathy.zip">http://geopubs.wr.usgs.gov/open-file/of02-391/data/bathy.zip</a><br>(442MB), unzip
it and save it to a folder. Save it to <strong>C:\SDKInputData\</strong>ù.</li>
	<li>Now navigate to the<strong> (SDKInstallDir)\Tile Pyramid SDK\Samples</strong>
folder and execute the following command:</li>
</ol>
<p><b><i>SpecificRegionDataSet.exe /Input=</i></b><i>C:\SDKInputData\glaciermulti.xyz
/<b>Projection</b>=Toast</i></p>
<p>Where:</p>
<p><b>Input: </b>One XYZ data file for a
specific region of the world where X is longitude, Y is latitude and Z is the
value. Data should be in a regular mesh. </p>
<p><b>Projection: </b>
Projection can be either Toast or Mercator. For more information please refer to:
<a href="http://www.worldwidetelescope.org/Docs/WorldWideTelescopeProjectionReference.html">http://www.worldwidetelescope.org/Docs/WorldWideTelescopeProjectionReference.html</a></p>
<p><b>OutputDir:</b>
Optional parameter, specifying the folder for output image pyramids and newly created wtml files.
If no input is supplied, image tiles are stored in the
<strong>%ProgramData%\Microsoft Research\WWT SDK\Output</strong>ù folder.</p>

<h4>See Also</h4>
<ul type="disc">
<li><a href="#Tile Pyramid SDK Samples">WorldWide Telescope SDK Samples</a></li>
</ul>
<hr>

<h3><a name="Running_the_WorldDataSet.exe_sample">Running the WorldDataSet.exe sample</a></h3>
<ol>
	<li>Download the ETOP01 xyz data set from:<br>
	<a href="http://www.ngdc.noaa.gov/mgg/global/relief/ETOPO1/data/bedrock/grid_registered/xyz/ETOPO1_Bed_g_int.xyz.gz">http://www.ngdc.noaa.gov/mgg/global/relief/ETOPO1/data/bedrock/grid_registered/xyz/ETOPO1_Bed_g_int.xyz.gz</a><br>(1GB file)</li>
	<li>Use a standard uncompressing utility to extract
the XYZ file.</li>
	<li>Save it to a local folder. Save it
to <strong>C:\SDKInputData\</strong>. </li>
	<li>Open the command prompt and navigate to the
<strong>(SDKInstallDir)\Tile Pyramid SDK\Samples</strong> folder, and execute 
	the following command:</li>
</ol>
<p><b><i> WorldDataSet.exe
/Input</i></b><i>=C:\SDKInputData\ETOPO1_Bed_g.int.xyz <b>/Projection</b>=Toast
<b>/ColorMap</b>=colormap.png
<b>/ColorMapOrientation</b>=Vertical</i></p>
<p>Where:</p>
<p><b>Input: </b>One XYZ data file for entire
world where X is longitude, Y is latitude and Z is the value.</p>
<p><b>Projection: </b>
Projection can be either Toast or Mercator. For more information please refer to:
<a href="http://www.worldwidetelescope.org/Docs/WorldWideTelescopeProjectionReference.html">http://www.worldwidetelescope.org/Docs/WorldWideTelescopeProjectionReference.html</a></p>
<p><b>ColorMap:</b>
Path of a color map file used. A color map is used to assign colors to
various points based on their z value and the colors available in the color map
(from top to bottom in the case of a vertically oriented color map). A sample
file color map is included in the samples folder.<br></p><p>
<b>ColorMapOrientation</b>: Two values
allowed horizontal or vertical. This indicates the orientation of the color map
specified in the previous parameter.</p>
<p><b>OutputDir:</b>
Optional parameter, specifying the folder for output image pyramids and newly created wtml files.
If no input is supplied, image tiles are stored in the
<strong>%ProgramData%\Microsoft Research\WWT SDK\Output</strong>ù folder.</p>

<h4>See Also</h4>
<ul type="disc">
<li><a href="#Tile Pyramid SDK Samples">WorldWide Telescope SDK Samples</a></li>
</ul>
<hr>

<h4><a name="Sample_XML_File_for_the_Multi-Part_Equirectangular_Image">Sample XML File for the Multi-Part
Equirectangular Image</a></h4>


<table class="T1" cellpadding="4" cellspacing="4">
<tr><td>

<p><strong>&lt;?xml version=&quot;1.0&quot;
encoding=&quot;utf-8&quot; ?&gt;</strong></p>
<p>  <strong>&lt;Regions&gt;</strong></p>
<p>&nbsp;&nbsp;    <strong>&lt;Row&gt;</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>&lt;Region name=&quot;A1&quot;&gt;</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<strong>ImagePath&gt;C:\SDKInputData\A1.jpg&lt;/ImagePath&gt;</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>&lt;/Region&gt;</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>&lt;Region name=&quot;B1&quot;&gt;</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<strong>ImagePath&gt;C:\SDKInputData\B1.jpg&lt;/ImagePath&gt;</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>&lt;/Region&gt;</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>&lt;Region name=&quot;C1&quot;&gt;</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<strong>ImagePath&gt;C:\SDKInputData\C1.jpg&lt;/ImagePath&gt;</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>&lt;Region name=&quot;D1&quot;&gt;</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>&lt;/Region&gt;</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>&lt;ImagePath&gt;C:\SDKInputData\D1.jpg&lt;/ImagePath&gt;</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>&lt;/Region&gt;</strong></p>
<p>&nbsp;&nbsp;    <strong>&lt;/Row&gt;</strong></p>
<p>&nbsp;&nbsp;    <strong>&lt;Row&gt;</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>&lt;Region name=&quot;A2&quot;&gt;</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>&lt;ImagePath&gt;C:\SDKInputData\A2.jpg&lt;/ImagePath&gt;</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>&lt;/Region&gt;</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>&lt;Region name=&quot;B2&quot;&gt;</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>&lt;ImagePath&gt;C:\SDKInputData\B2.jpg&lt;/ImagePath&gt;</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>&lt;/Region&gt;</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>&lt;Region name=&quot;C2&quot;&gt;</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>&lt;ImagePath&gt;C:\SDKInputData\C2.jpg&lt;/ImagePath&gt;</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>&lt;/Region&gt;</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>&lt;Region name=&quot;D2&quot;&gt;</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>&lt;ImagePath&gt;C:\SDKInputData\D2.jpg&lt;/ImagePath&gt;</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>&lt;/Region&gt;</strong></p>
<p>&nbsp;&nbsp;    <strong>&lt;/Row&gt;</strong></p>
<p>  <strong>&lt;/Regions&gt;</strong></p>
	</td></tr>


</table>

<h4>See Also</h4>
<ul type="disc">
<li><a href="#Tile Pyramid SDK Samples">WorldWide Telescope SDK Samples</a></li>
</ul>
<hr>

</body>
</html>
